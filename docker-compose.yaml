version: '2'

networks:
  chat-net:

services:
  chat-server:
    container_name: chat-server
    image: golang
    working_dir: /server
    command: go run main.go
    volumes:
    - ./server:/server
    networks:
      - chat-net
    ports:
      - 6174:6174

  chat-client:
    stdin_open: true
    tty: true
    container_name: chat-${CHAT_USERNAME}
    image: golang
    working_dir: /client
    command: go run main.go
    volumes:
    - ./client:/client
    networks:
      - chat-net
